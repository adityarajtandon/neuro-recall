{"ast":null,"code":"var _jsxFileName = \"/Users/adityarajtandon/Documents/neuro-recall/frontend/src/components/ReviewPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://localhost:5001/api';\nconst ReviewPage = () => {\n  _s();\n  var _currentQuiz$noteId;\n  const [dueQuizzes, setDueQuizzes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [currentQuizIndex, setCurrentQuizIndex] = useState(0);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [userAnswers, setUserAnswers] = useState({});\n  const [ratings, setRatings] = useState({});\n  const [showAnswer, setShowAnswer] = useState(false);\n  const [sessionStartTime, setSessionStartTime] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchDueQuizzes();\n    setSessionStartTime(Date.now());\n  }, []);\n  const fetchDueQuizzes = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${API_BASE}/quizzes/due/today`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setDueQuizzes(response.data);\n    } catch (error) {\n      console.error('Error fetching due quizzes:', error);\n      setError('Failed to load quizzes');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const currentQuiz = dueQuizzes[currentQuizIndex];\n  const currentQuestion = currentQuiz === null || currentQuiz === void 0 ? void 0 : currentQuiz.questions[currentQuestionIndex];\n  const handleAnswerChange = (questionId, answer) => {\n    setUserAnswers(prev => ({\n      ...prev,\n      [questionId]: answer\n    }));\n  };\n  const handleRating = (questionId, rating) => {\n    setRatings(prev => ({\n      ...prev,\n      [questionId]: rating\n    }));\n  };\n  const handleNextQuestion = () => {\n    if (currentQuestionIndex < currentQuiz.questions.length - 1) {\n      setCurrentQuestionIndex(currentQuestionIndex + 1);\n      setShowAnswer(false);\n    } else {\n      // Move to next quiz\n      if (currentQuizIndex < dueQuizzes.length - 1) {\n        setCurrentQuizIndex(currentQuizIndex + 1);\n        setCurrentQuestionIndex(0);\n        setShowAnswer(false);\n      } else {\n        // All quizzes completed\n        handleFinishReview();\n      }\n    }\n  };\n  const handleFinishReview = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const duration = Math.floor((Date.now() - sessionStartTime) / 1000);\n\n      // Prepare answers for all quizzes\n      const allAnswers = [];\n      dueQuizzes.forEach((quiz, quizIndex) => {\n        quiz.questions.forEach((question, questionIndex) => {\n          const questionId = question.questionId;\n          const userAnswer = userAnswers[questionId] || '';\n          const rating = ratings[questionId] || 'medium';\n          allAnswers.push({\n            questionId,\n            userAnswer,\n            rating,\n            timeSpent: 0 // Could be enhanced to track per-question time\n          });\n        });\n      });\n\n      // Submit results for each quiz\n      const results = [];\n      for (const quiz of dueQuizzes) {\n        const quizAnswers = allAnswers.filter(answer => quiz.questions.some(q => q.questionId === answer.questionId));\n        const response = await axios.post(`${API_BASE}/quizzes/${quiz._id}/submit`, {\n          answers: quizAnswers,\n          duration\n        }, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        results.push(response.data);\n      }\n\n      // Navigate to results page or dashboard\n      navigate('/dashboard', {\n        state: {\n          reviewCompleted: true,\n          results,\n          totalQuizzes: dueQuizzes.length\n        }\n      });\n    } catch (error) {\n      console.error('Error submitting review:', error);\n      setError('Failed to submit review results');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 dark:bg-dark text-dark-900 dark:text-white transition-colors\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center h-screen\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-4 text-gray-300\",\n            children: \"Loading today's reviews...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 dark:bg-dark text-dark-900 dark:text-white transition-colors\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center h-screen\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-400 mb-4\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchDueQuizzes,\n            className: \"bg-accent hover:bg-accent-blue text-white px-4 py-2 rounded-lg\",\n            children: \"Retry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this);\n  }\n  if (dueQuizzes.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 dark:bg-dark text-dark-900 dark:text-white transition-colors\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex items-center justify-between px-8 py-6 bg-white dark:bg-dark-900 border-b border-gray-200 dark:border-dark-800 shadow-glow transition-colors\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/dashboard\",\n          className: \"flex items-center space-x-2 group\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 32 32\",\n            width: \"32\",\n            height: \"32\",\n            className: \"mr-2\",\n            fill: \"currentColor\",\n            style: {\n              color: '#a259ff'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M16 2c-2.21 0-4 1.79-4 4v1.09C8.61 7.56 6 10.47 6 14v1c0 1.1.9 2 2 2v1c0 1.1.9 2 2 2v1c0 1.1.9 2 2 2s2-.9 2-2v-1c1.1 0 2-.9 2-2v-1c1.1 0 2-.9 2-2v-1c1.1 0 2-.9 2-2v-1c0-3.53-2.61-6.44-6-6.91V6c0-2.21-1.79-4-4-4zm0 2c1.1 0 2 .9 2 2v1.09c2.39.47 4 2.38 4 4.91v1c0 .55-.45 1-1 1s-1-.45-1-1v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c0 .55-.45 1-1 1s-1-.45-1-1v-1c0-2.53 1.61-4.44 4-4.91V6c0-1.1-.9-2-2-2z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xl font-extrabold text-dark-900 dark:text-white group-hover:text-accent-blue transition tracking-tight font-sans\",\n            children: \"NeuroRecall\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-2xl mx-auto px-4 mt-20 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-900 shadow-glow rounded-2xl p-8 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-6xl mb-4\",\n            children: \"\\uD83C\\uDF89\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-accent mb-4\",\n            children: \"No Reviews Due Today!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 dark:text-gray-300 mb-6\",\n            children: \"Great job! You've completed all your scheduled reviews for today. Check back tomorrow for new reviews based on your spaced repetition schedule.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/dashboard\",\n            className: \"bg-accent hover:bg-accent-blue text-white px-6 py-3 rounded-lg font-semibold shadow-glow transition\",\n            children: \"Back to Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 dark:bg-dark text-dark-900 dark:text-white transition-colors\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"flex items-center justify-between px-8 py-6 bg-white dark:bg-dark-900 border-b border-gray-200 dark:border-dark-800 shadow-glow transition-colors\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/dashboard\",\n        className: \"flex items-center space-x-2 group\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          viewBox: \"0 0 32 32\",\n          width: \"32\",\n          height: \"32\",\n          className: \"mr-2\",\n          fill: \"currentColor\",\n          style: {\n            color: '#a259ff'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M16 2c-2.21 0-4 1.79-4 4v1.09C8.61 7.56 6 10.47 6 14v1c0 1.1.9 2 2 2v1c0 1.1.9 2 2 2v1c0 1.1.9 2 2 2s2-.9 2-2v-1c1.1 0 2-.9 2-2v-1c1.1 0 2-.9 2-2v-1c1.1 0 2-.9 2-2v-1c0-3.53-2.61-6.44-6-6.91V6c0-2.21-1.79-4-4-4zm0 2c1.1 0 2 .9 2 2v1.09c2.39.47 4 2.38 4 4.91v1c0 .55-.45 1-1 1s-1-.45-1-1v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c0 .55-.45 1-1 1s-1-.45-1-1v-1c0-2.53 1.61-4.44 4-4.91V6c0-1.1-.9-2-2-2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xl font-extrabold text-dark-900 dark:text-white group-hover:text-accent-blue transition tracking-tight font-sans\",\n          children: \"NeuroRecall\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600 dark:text-gray-300\",\n        children: [\"Review \", currentQuizIndex + 1, \" of \", dueQuizzes.length, \" \\u2022 Question \", currentQuestionIndex + 1, \" of \", currentQuiz === null || currentQuiz === void 0 ? void 0 : currentQuiz.questions.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4 mt-8\",\n      children: currentQuiz && currentQuestion && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-900 shadow-glow rounded-2xl p-8 transition-colors\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-accent mb-2\",\n            children: ((_currentQuiz$noteId = currentQuiz.noteId) === null || _currentQuiz$noteId === void 0 ? void 0 : _currentQuiz$noteId.filename) || 'Untitled Note'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 dark:text-gray-400\",\n            children: [currentQuiz.type.replace(/-/g, ' ').toUpperCase(), \" \\u2022 Next review: \", new Date(currentQuiz.spacedRepetition.nextReview).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mb-4\",\n            children: [\"Question \", currentQuestionIndex + 1, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg\",\n            children: currentQuestion.question\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this), !showAnswer ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [currentQuiz.type === 'mcq' ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: currentQuestion.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center p-3 border border-gray-300 dark:border-dark-700 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-900 cursor-pointer transition\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: currentQuestion.questionId,\n                value: option,\n                checked: userAnswers[currentQuestion.questionId] === option,\n                onChange: e => handleAnswerChange(currentQuestion.questionId, e.target.value),\n                className: \"mr-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: option\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 25\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Type your answer...\",\n            value: userAnswers[currentQuestion.questionId] || '',\n            onChange: e => handleAnswerChange(currentQuestion.questionId, e.target.value),\n            className: \"w-full px-4 py-3 border border-gray-300 dark:border-dark-700 rounded-lg bg-gray-50 dark:bg-dark-900 text-dark-900 dark:text-white focus:ring-accent focus:border-accent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowAnswer(true),\n            className: \"mt-4 bg-accent hover:bg-accent-blue text-white px-6 py-3 rounded-lg font-semibold shadow-glow transition\",\n            children: \"Check Answer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-100 dark:bg-dark-900 rounded-lg p-4 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold mb-2\",\n              children: \"Correct Answer:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg\",\n              children: currentQuestion.answer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold mb-3\",\n              children: \"How difficult was this question?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-4\",\n              children: [{\n                value: 'easy',\n                label: 'Easy',\n                color: 'bg-green-500 hover:bg-green-600'\n              }, {\n                value: 'medium',\n                label: 'Medium',\n                color: 'bg-yellow-500 hover:bg-yellow-600'\n              }, {\n                value: 'hard',\n                label: 'Hard',\n                color: 'bg-red-500 hover:bg-red-600'\n              }].map(rating => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleRating(currentQuestion.questionId, rating.value),\n                className: `px-6 py-3 rounded-lg font-semibold text-white transition ${ratings[currentQuestion.questionId] === rating.value ? rating.color : 'bg-gray-400 hover:bg-gray-500'}`,\n                children: rating.label\n              }, rating.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleNextQuestion,\n            className: \"bg-accent hover:bg-accent-blue text-white px-6 py-3 rounded-lg font-semibold shadow-glow transition\",\n            children: currentQuestionIndex < currentQuiz.questions.length - 1 ? 'Next Question' : currentQuizIndex < dueQuizzes.length - 1 ? 'Next Quiz' : 'Finish Review'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n};\n_s(ReviewPage, \"jMkw2kGl7wxWUhRelaoxw6HSzRc=\", false, function () {\n  return [useNavigate];\n});\n_c = ReviewPage;\nexport default ReviewPage;\nvar _c;\n$RefreshReg$(_c, \"ReviewPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","Link","useNavigate","jsxDEV","_jsxDEV","API_BASE","ReviewPage","_s","_currentQuiz$noteId","dueQuizzes","setDueQuizzes","loading","setLoading","error","setError","currentQuizIndex","setCurrentQuizIndex","currentQuestionIndex","setCurrentQuestionIndex","userAnswers","setUserAnswers","ratings","setRatings","showAnswer","setShowAnswer","sessionStartTime","setSessionStartTime","navigate","fetchDueQuizzes","Date","now","token","localStorage","getItem","response","get","headers","Authorization","data","console","currentQuiz","currentQuestion","questions","handleAnswerChange","questionId","answer","prev","handleRating","rating","handleNextQuestion","length","handleFinishReview","duration","Math","floor","allAnswers","forEach","quiz","quizIndex","question","questionIndex","userAnswer","push","timeSpent","results","quizAnswers","filter","some","q","post","_id","answers","state","reviewCompleted","totalQuizzes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","to","xmlns","viewBox","width","height","fill","style","color","d","noteId","filename","type","replace","toUpperCase","spacedRepetition","nextReview","toLocaleDateString","options","map","option","index","name","value","checked","onChange","e","target","placeholder","label","_c","$RefreshReg$"],"sources":["/Users/adityarajtandon/Documents/neuro-recall/frontend/src/components/ReviewPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom';\n\nconst API_BASE = 'http://localhost:5001/api';\n\nconst ReviewPage = () => {\n  const [dueQuizzes, setDueQuizzes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [currentQuizIndex, setCurrentQuizIndex] = useState(0);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [userAnswers, setUserAnswers] = useState({});\n  const [ratings, setRatings] = useState({});\n  const [showAnswer, setShowAnswer] = useState(false);\n  const [sessionStartTime, setSessionStartTime] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchDueQuizzes();\n    setSessionStartTime(Date.now());\n  }, []);\n\n  const fetchDueQuizzes = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${API_BASE}/quizzes/due/today`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setDueQuizzes(response.data);\n    } catch (error) {\n      console.error('Error fetching due quizzes:', error);\n      setError('Failed to load quizzes');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const currentQuiz = dueQuizzes[currentQuizIndex];\n  const currentQuestion = currentQuiz?.questions[currentQuestionIndex];\n\n  const handleAnswerChange = (questionId, answer) => {\n    setUserAnswers(prev => ({\n      ...prev,\n      [questionId]: answer\n    }));\n  };\n\n  const handleRating = (questionId, rating) => {\n    setRatings(prev => ({\n      ...prev,\n      [questionId]: rating\n    }));\n  };\n\n  const handleNextQuestion = () => {\n    if (currentQuestionIndex < currentQuiz.questions.length - 1) {\n      setCurrentQuestionIndex(currentQuestionIndex + 1);\n      setShowAnswer(false);\n    } else {\n      // Move to next quiz\n      if (currentQuizIndex < dueQuizzes.length - 1) {\n        setCurrentQuizIndex(currentQuizIndex + 1);\n        setCurrentQuestionIndex(0);\n        setShowAnswer(false);\n      } else {\n        // All quizzes completed\n        handleFinishReview();\n      }\n    }\n  };\n\n  const handleFinishReview = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const duration = Math.floor((Date.now() - sessionStartTime) / 1000);\n\n      // Prepare answers for all quizzes\n      const allAnswers = [];\n      dueQuizzes.forEach((quiz, quizIndex) => {\n        quiz.questions.forEach((question, questionIndex) => {\n          const questionId = question.questionId;\n          const userAnswer = userAnswers[questionId] || '';\n          const rating = ratings[questionId] || 'medium';\n          \n          allAnswers.push({\n            questionId,\n            userAnswer,\n            rating,\n            timeSpent: 0 // Could be enhanced to track per-question time\n          });\n        });\n      });\n\n      // Submit results for each quiz\n      const results = [];\n      for (const quiz of dueQuizzes) {\n        const quizAnswers = allAnswers.filter(answer => \n          quiz.questions.some(q => q.questionId === answer.questionId)\n        );\n\n        const response = await axios.post(`${API_BASE}/quizzes/${quiz._id}/submit`, {\n          answers: quizAnswers,\n          duration\n        }, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n\n        results.push(response.data);\n      }\n\n      // Navigate to results page or dashboard\n      navigate('/dashboard', { \n        state: { \n          reviewCompleted: true, \n          results,\n          totalQuizzes: dueQuizzes.length \n        }\n      });\n\n    } catch (error) {\n      console.error('Error submitting review:', error);\n      setError('Failed to submit review results');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-dark text-dark-900 dark:text-white transition-colors\">\n        <div className=\"flex items-center justify-center h-screen\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto\"></div>\n            <p className=\"mt-4 text-gray-300\">Loading today's reviews...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-dark text-dark-900 dark:text-white transition-colors\">\n        <div className=\"flex items-center justify-center h-screen\">\n          <div className=\"text-center\">\n            <p className=\"text-red-400 mb-4\">{error}</p>\n            <button \n              onClick={fetchDueQuizzes}\n              className=\"bg-accent hover:bg-accent-blue text-white px-4 py-2 rounded-lg\"\n            >\n              Retry\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (dueQuizzes.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-dark text-dark-900 dark:text-white transition-colors\">\n        <nav className=\"flex items-center justify-between px-8 py-6 bg-white dark:bg-dark-900 border-b border-gray-200 dark:border-dark-800 shadow-glow transition-colors\">\n          <Link to=\"/dashboard\" className=\"flex items-center space-x-2 group\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"32\" height=\"32\" className=\"mr-2\" fill=\"currentColor\" style={{ color: '#a259ff' }}>\n              <path d=\"M16 2c-2.21 0-4 1.79-4 4v1.09C8.61 7.56 6 10.47 6 14v1c0 1.1.9 2 2 2v1c0 1.1.9 2 2 2v1c0 1.1.9 2 2 2s2-.9 2-2v-1c1.1 0 2-.9 2-2v-1c1.1 0 2-.9 2-2v-1c1.1 0 2-.9 2-2v-1c0-3.53-2.61-6.44-6-6.91V6c0-2.21-1.79-4-4-4zm0 2c1.1 0 2 .9 2 2v1.09c2.39.47 4 2.38 4 4.91v1c0 .55-.45 1-1 1s-1-.45-1-1v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c0 .55-.45 1-1 1s-1-.45-1-1v-1c0-2.53 1.61-4.44 4-4.91V6c0-1.1-.9-2-2-2z\"/>\n            </svg>\n            <span className=\"text-xl font-extrabold text-dark-900 dark:text-white group-hover:text-accent-blue transition tracking-tight font-sans\">NeuroRecall</span>\n          </Link>\n        </nav>\n        \n        <div className=\"max-w-2xl mx-auto px-4 mt-20 text-center\">\n          <div className=\"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-900 shadow-glow rounded-2xl p-8 transition-colors\">\n            <div className=\"text-6xl mb-4\">ðŸŽ‰</div>\n            <h2 className=\"text-2xl font-bold text-accent mb-4\">No Reviews Due Today!</h2>\n            <p className=\"text-gray-600 dark:text-gray-300 mb-6\">\n              Great job! You've completed all your scheduled reviews for today. \n              Check back tomorrow for new reviews based on your spaced repetition schedule.\n            </p>\n            <Link \n              to=\"/dashboard\"\n              className=\"bg-accent hover:bg-accent-blue text-white px-6 py-3 rounded-lg font-semibold shadow-glow transition\"\n            >\n              Back to Dashboard\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-dark text-dark-900 dark:text-white transition-colors\">\n      <nav className=\"flex items-center justify-between px-8 py-6 bg-white dark:bg-dark-900 border-b border-gray-200 dark:border-dark-800 shadow-glow transition-colors\">\n        <Link to=\"/dashboard\" className=\"flex items-center space-x-2 group\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"32\" height=\"32\" className=\"mr-2\" fill=\"currentColor\" style={{ color: '#a259ff' }}>\n            <path d=\"M16 2c-2.21 0-4 1.79-4 4v1.09C8.61 7.56 6 10.47 6 14v1c0 1.1.9 2 2 2v1c0 1.1.9 2 2 2v1c0 1.1.9 2 2 2s2-.9 2-2v-1c1.1 0 2-.9 2-2v-1c1.1 0 2-.9 2-2v-1c1.1 0 2-.9 2-2v-1c0-3.53-2.61-6.44-6-6.91V6c0-2.21-1.79-4-4-4zm0 2c1.1 0 2 .9 2 2v1.09c2.39.47 4 2.38 4 4.91v1c0 .55-.45 1-1 1s-1-.45-1-1v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c0 .55-.45 1-1 1s-1-.45-1-1v-1c0-2.53 1.61-4.44 4-4.91V6c0-1.1-.9-2-2-2z\"/>\n          </svg>\n          <span className=\"text-xl font-extrabold text-dark-900 dark:text-white group-hover:text-accent-blue transition tracking-tight font-sans\">NeuroRecall</span>\n        </Link>\n        \n        <div className=\"text-sm text-gray-600 dark:text-gray-300\">\n          Review {currentQuizIndex + 1} of {dueQuizzes.length} â€¢ \n          Question {currentQuestionIndex + 1} of {currentQuiz?.questions.length}\n        </div>\n      </nav>\n\n      <div className=\"max-w-4xl mx-auto px-4 mt-8\">\n        {currentQuiz && currentQuestion && (\n          <div className=\"bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-900 shadow-glow rounded-2xl p-8 transition-colors\">\n            {/* Quiz Header */}\n            <div className=\"mb-6\">\n              <h2 className=\"text-xl font-bold text-accent mb-2\">\n                {currentQuiz.noteId?.filename || 'Untitled Note'}\n              </h2>\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                {currentQuiz.type.replace(/-/g, ' ').toUpperCase()} â€¢ \n                Next review: {new Date(currentQuiz.spacedRepetition.nextReview).toLocaleDateString()}\n              </p>\n            </div>\n\n            {/* Question */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-lg font-semibold mb-4\">Question {currentQuestionIndex + 1}:</h3>\n              <p className=\"text-lg\">{currentQuestion.question}</p>\n            </div>\n\n            {/* Answer Section */}\n            {!showAnswer ? (\n              <div className=\"mb-6\">\n                {currentQuiz.type === 'mcq' ? (\n                  <div className=\"space-y-3\">\n                    {currentQuestion.options.map((option, index) => (\n                      <label key={index} className=\"flex items-center p-3 border border-gray-300 dark:border-dark-700 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-900 cursor-pointer transition\">\n                        <input\n                          type=\"radio\"\n                          name={currentQuestion.questionId}\n                          value={option}\n                          checked={userAnswers[currentQuestion.questionId] === option}\n                          onChange={(e) => handleAnswerChange(currentQuestion.questionId, e.target.value)}\n                          className=\"mr-3\"\n                        />\n                        <span>{option}</span>\n                      </label>\n                    ))}\n                  </div>\n                ) : (\n                  <input\n                    type=\"text\"\n                    placeholder=\"Type your answer...\"\n                    value={userAnswers[currentQuestion.questionId] || ''}\n                    onChange={(e) => handleAnswerChange(currentQuestion.questionId, e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-300 dark:border-dark-700 rounded-lg bg-gray-50 dark:bg-dark-900 text-dark-900 dark:text-white focus:ring-accent focus:border-accent\"\n                  />\n                )}\n                \n                <button\n                  onClick={() => setShowAnswer(true)}\n                  className=\"mt-4 bg-accent hover:bg-accent-blue text-white px-6 py-3 rounded-lg font-semibold shadow-glow transition\"\n                >\n                  Check Answer\n                </button>\n              </div>\n            ) : (\n              <div className=\"mb-6\">\n                <div className=\"bg-gray-100 dark:bg-dark-900 rounded-lg p-4 mb-4\">\n                  <h4 className=\"font-semibold mb-2\">Correct Answer:</h4>\n                  <p className=\"text-lg\">{currentQuestion.answer}</p>\n                </div>\n\n                {/* Rating Section */}\n                <div className=\"mb-6\">\n                  <h4 className=\"font-semibold mb-3\">How difficult was this question?</h4>\n                  <div className=\"flex space-x-4\">\n                    {[\n                      { value: 'easy', label: 'Easy', color: 'bg-green-500 hover:bg-green-600' },\n                      { value: 'medium', label: 'Medium', color: 'bg-yellow-500 hover:bg-yellow-600' },\n                      { value: 'hard', label: 'Hard', color: 'bg-red-500 hover:bg-red-600' }\n                    ].map((rating) => (\n                      <button\n                        key={rating.value}\n                        onClick={() => handleRating(currentQuestion.questionId, rating.value)}\n                        className={`px-6 py-3 rounded-lg font-semibold text-white transition ${\n                          ratings[currentQuestion.questionId] === rating.value \n                            ? rating.color \n                            : 'bg-gray-400 hover:bg-gray-500'\n                        }`}\n                      >\n                        {rating.label}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                <button\n                  onClick={handleNextQuestion}\n                  className=\"bg-accent hover:bg-accent-blue text-white px-6 py-3 rounded-lg font-semibold shadow-glow transition\"\n                >\n                  {currentQuestionIndex < currentQuiz.questions.length - 1 \n                    ? 'Next Question' \n                    : currentQuizIndex < dueQuizzes.length - 1 \n                      ? 'Next Quiz' \n                      : 'Finish Review'\n                  }\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ReviewPage; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,QAAQ,GAAG,2BAA2B;AAE5C,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,mBAAA;EACvB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACiB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGlB,QAAQ,CAAC,CAAC,CAAC;EAC3D,MAAM,CAACmB,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGpB,QAAQ,CAAC,CAAC,CAAC;EACnE,MAAM,CAACqB,WAAW,EAAEC,cAAc,CAAC,GAAGtB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClD,MAAM,CAACuB,OAAO,EAAEC,UAAU,CAAC,GAAGxB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1C,MAAM,CAACyB,UAAU,EAAEC,aAAa,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAAC2B,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM6B,QAAQ,GAAGzB,WAAW,CAAC,CAAC;EAE9BH,SAAS,CAAC,MAAM;IACd6B,eAAe,CAAC,CAAC;IACjBF,mBAAmB,CAACG,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC;EACjC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMF,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI;MACF,MAAMG,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,MAAMC,QAAQ,GAAG,MAAMlC,KAAK,CAACmC,GAAG,CAAC,GAAG9B,QAAQ,oBAAoB,EAAE;QAChE+B,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUN,KAAK;QAAG;MAC9C,CAAC,CAAC;MACFrB,aAAa,CAACwB,QAAQ,CAACI,IAAI,CAAC;IAC9B,CAAC,CAAC,OAAOzB,KAAK,EAAE;MACd0B,OAAO,CAAC1B,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnDC,QAAQ,CAAC,wBAAwB,CAAC;IACpC,CAAC,SAAS;MACRF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM4B,WAAW,GAAG/B,UAAU,CAACM,gBAAgB,CAAC;EAChD,MAAM0B,eAAe,GAAGD,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEE,SAAS,CAACzB,oBAAoB,CAAC;EAEpE,MAAM0B,kBAAkB,GAAGA,CAACC,UAAU,EAAEC,MAAM,KAAK;IACjDzB,cAAc,CAAC0B,IAAI,KAAK;MACtB,GAAGA,IAAI;MACP,CAACF,UAAU,GAAGC;IAChB,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAME,YAAY,GAAGA,CAACH,UAAU,EAAEI,MAAM,KAAK;IAC3C1B,UAAU,CAACwB,IAAI,KAAK;MAClB,GAAGA,IAAI;MACP,CAACF,UAAU,GAAGI;IAChB,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAIhC,oBAAoB,GAAGuB,WAAW,CAACE,SAAS,CAACQ,MAAM,GAAG,CAAC,EAAE;MAC3DhC,uBAAuB,CAACD,oBAAoB,GAAG,CAAC,CAAC;MACjDO,aAAa,CAAC,KAAK,CAAC;IACtB,CAAC,MAAM;MACL;MACA,IAAIT,gBAAgB,GAAGN,UAAU,CAACyC,MAAM,GAAG,CAAC,EAAE;QAC5ClC,mBAAmB,CAACD,gBAAgB,GAAG,CAAC,CAAC;QACzCG,uBAAuB,CAAC,CAAC,CAAC;QAC1BM,aAAa,CAAC,KAAK,CAAC;MACtB,CAAC,MAAM;QACL;QACA2B,kBAAkB,CAAC,CAAC;MACtB;IACF;EACF,CAAC;EAED,MAAMA,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI;MACF,MAAMpB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,MAAMmB,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAAC,CAACzB,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGL,gBAAgB,IAAI,IAAI,CAAC;;MAEnE;MACA,MAAM8B,UAAU,GAAG,EAAE;MACrB9C,UAAU,CAAC+C,OAAO,CAAC,CAACC,IAAI,EAAEC,SAAS,KAAK;QACtCD,IAAI,CAACf,SAAS,CAACc,OAAO,CAAC,CAACG,QAAQ,EAAEC,aAAa,KAAK;UAClD,MAAMhB,UAAU,GAAGe,QAAQ,CAACf,UAAU;UACtC,MAAMiB,UAAU,GAAG1C,WAAW,CAACyB,UAAU,CAAC,IAAI,EAAE;UAChD,MAAMI,MAAM,GAAG3B,OAAO,CAACuB,UAAU,CAAC,IAAI,QAAQ;UAE9CW,UAAU,CAACO,IAAI,CAAC;YACdlB,UAAU;YACViB,UAAU;YACVb,MAAM;YACNe,SAAS,EAAE,CAAC,CAAC;UACf,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC;;MAEF;MACA,MAAMC,OAAO,GAAG,EAAE;MAClB,KAAK,MAAMP,IAAI,IAAIhD,UAAU,EAAE;QAC7B,MAAMwD,WAAW,GAAGV,UAAU,CAACW,MAAM,CAACrB,MAAM,IAC1CY,IAAI,CAACf,SAAS,CAACyB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACxB,UAAU,KAAKC,MAAM,CAACD,UAAU,CAC7D,CAAC;QAED,MAAMV,QAAQ,GAAG,MAAMlC,KAAK,CAACqE,IAAI,CAAC,GAAGhE,QAAQ,YAAYoD,IAAI,CAACa,GAAG,SAAS,EAAE;UAC1EC,OAAO,EAAEN,WAAW;UACpBb;QACF,CAAC,EAAE;UACDhB,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUN,KAAK;UAAG;QAC9C,CAAC,CAAC;QAEFiC,OAAO,CAACF,IAAI,CAAC5B,QAAQ,CAACI,IAAI,CAAC;MAC7B;;MAEA;MACAX,QAAQ,CAAC,YAAY,EAAE;QACrB6C,KAAK,EAAE;UACLC,eAAe,EAAE,IAAI;UACrBT,OAAO;UACPU,YAAY,EAAEjE,UAAU,CAACyC;QAC3B;MACF,CAAC,CAAC;IAEJ,CAAC,CAAC,OAAOrC,KAAK,EAAE;MACd0B,OAAO,CAAC1B,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDC,QAAQ,CAAC,iCAAiC,CAAC;IAC7C;EACF,CAAC;EAED,IAAIH,OAAO,EAAE;IACX,oBACEP,OAAA;MAAKuE,SAAS,EAAC,sFAAsF;MAAAC,QAAA,eACnGxE,OAAA;QAAKuE,SAAS,EAAC,2CAA2C;QAAAC,QAAA,eACxDxE,OAAA;UAAKuE,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1BxE,OAAA;YAAKuE,SAAS,EAAC;UAAsE;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC5F5E,OAAA;YAAGuE,SAAS,EAAC,oBAAoB;YAAAC,QAAA,EAAC;UAA0B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7D;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,IAAInE,KAAK,EAAE;IACT,oBACET,OAAA;MAAKuE,SAAS,EAAC,sFAAsF;MAAAC,QAAA,eACnGxE,OAAA;QAAKuE,SAAS,EAAC,2CAA2C;QAAAC,QAAA,eACxDxE,OAAA;UAAKuE,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1BxE,OAAA;YAAGuE,SAAS,EAAC,mBAAmB;YAAAC,QAAA,EAAE/D;UAAK;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC5C5E,OAAA;YACE6E,OAAO,EAAErD,eAAgB;YACzB+C,SAAS,EAAC,gEAAgE;YAAAC,QAAA,EAC3E;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,IAAIvE,UAAU,CAACyC,MAAM,KAAK,CAAC,EAAE;IAC3B,oBACE9C,OAAA;MAAKuE,SAAS,EAAC,sFAAsF;MAAAC,QAAA,gBACnGxE,OAAA;QAAKuE,SAAS,EAAC,mJAAmJ;QAAAC,QAAA,eAChKxE,OAAA,CAACH,IAAI;UAACiF,EAAE,EAAC,YAAY;UAACP,SAAS,EAAC,mCAAmC;UAAAC,QAAA,gBACjExE,OAAA;YAAK+E,KAAK,EAAC,4BAA4B;YAACC,OAAO,EAAC,WAAW;YAACC,KAAK,EAAC,IAAI;YAACC,MAAM,EAAC,IAAI;YAACX,SAAS,EAAC,MAAM;YAACY,IAAI,EAAC,cAAc;YAACC,KAAK,EAAE;cAAEC,KAAK,EAAE;YAAU,CAAE;YAAAb,QAAA,eAClJxE,OAAA;cAAMsF,CAAC,EAAC;YAAsY;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7Y,CAAC,eACN5E,OAAA;YAAMuE,SAAS,EAAC,uHAAuH;YAAAC,QAAA,EAAC;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtJ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eAEN5E,OAAA;QAAKuE,SAAS,EAAC,0CAA0C;QAAAC,QAAA,eACvDxE,OAAA;UAAKuE,SAAS,EAAC,qHAAqH;UAAAC,QAAA,gBAClIxE,OAAA;YAAKuE,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACvC5E,OAAA;YAAIuE,SAAS,EAAC,qCAAqC;YAAAC,QAAA,EAAC;UAAqB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC9E5E,OAAA;YAAGuE,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAGrD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACJ5E,OAAA,CAACH,IAAI;YACHiF,EAAE,EAAC,YAAY;YACfP,SAAS,EAAC,qGAAqG;YAAAC,QAAA,EAChH;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,oBACE5E,OAAA;IAAKuE,SAAS,EAAC,sFAAsF;IAAAC,QAAA,gBACnGxE,OAAA;MAAKuE,SAAS,EAAC,mJAAmJ;MAAAC,QAAA,gBAChKxE,OAAA,CAACH,IAAI;QAACiF,EAAE,EAAC,YAAY;QAACP,SAAS,EAAC,mCAAmC;QAAAC,QAAA,gBACjExE,OAAA;UAAK+E,KAAK,EAAC,4BAA4B;UAACC,OAAO,EAAC,WAAW;UAACC,KAAK,EAAC,IAAI;UAACC,MAAM,EAAC,IAAI;UAACX,SAAS,EAAC,MAAM;UAACY,IAAI,EAAC,cAAc;UAACC,KAAK,EAAE;YAAEC,KAAK,EAAE;UAAU,CAAE;UAAAb,QAAA,eAClJxE,OAAA;YAAMsF,CAAC,EAAC;UAAsY;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7Y,CAAC,eACN5E,OAAA;UAAMuE,SAAS,EAAC,uHAAuH;UAAAC,QAAA,EAAC;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtJ,CAAC,eAEP5E,OAAA;QAAKuE,SAAS,EAAC,0CAA0C;QAAAC,QAAA,GAAC,SACjD,EAAC7D,gBAAgB,GAAG,CAAC,EAAC,MAAI,EAACN,UAAU,CAACyC,MAAM,EAAC,mBAC3C,EAACjC,oBAAoB,GAAG,CAAC,EAAC,MAAI,EAACuB,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEE,SAAS,CAACQ,MAAM;MAAA;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN5E,OAAA;MAAKuE,SAAS,EAAC,6BAA6B;MAAAC,QAAA,EACzCpC,WAAW,IAAIC,eAAe,iBAC7BrC,OAAA;QAAKuE,SAAS,EAAC,qHAAqH;QAAAC,QAAA,gBAElIxE,OAAA;UAAKuE,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnBxE,OAAA;YAAIuE,SAAS,EAAC,oCAAoC;YAAAC,QAAA,EAC/C,EAAApE,mBAAA,GAAAgC,WAAW,CAACmD,MAAM,cAAAnF,mBAAA,uBAAlBA,mBAAA,CAAoBoF,QAAQ,KAAI;UAAe;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9C,CAAC,eACL5E,OAAA;YAAGuE,SAAS,EAAC,0CAA0C;YAAAC,QAAA,GACpDpC,WAAW,CAACqD,IAAI,CAACC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACC,WAAW,CAAC,CAAC,EAAC,uBACtC,EAAC,IAAIlE,IAAI,CAACW,WAAW,CAACwD,gBAAgB,CAACC,UAAU,CAAC,CAACC,kBAAkB,CAAC,CAAC;UAAA;YAAArB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnF,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eAGN5E,OAAA;UAAKuE,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnBxE,OAAA;YAAIuE,SAAS,EAAC,4BAA4B;YAAAC,QAAA,GAAC,WAAS,EAAC3D,oBAAoB,GAAG,CAAC,EAAC,GAAC;UAAA;YAAA4D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACpF5E,OAAA;YAAGuE,SAAS,EAAC,SAAS;YAAAC,QAAA,EAAEnC,eAAe,CAACkB;UAAQ;YAAAkB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC,EAGL,CAACzD,UAAU,gBACVnB,OAAA;UAAKuE,SAAS,EAAC,MAAM;UAAAC,QAAA,GAClBpC,WAAW,CAACqD,IAAI,KAAK,KAAK,gBACzBzF,OAAA;YAAKuE,SAAS,EAAC,WAAW;YAAAC,QAAA,EACvBnC,eAAe,CAAC0D,OAAO,CAACC,GAAG,CAAC,CAACC,MAAM,EAAEC,KAAK,kBACzClG,OAAA;cAAmBuE,SAAS,EAAC,gJAAgJ;cAAAC,QAAA,gBAC3KxE,OAAA;gBACEyF,IAAI,EAAC,OAAO;gBACZU,IAAI,EAAE9D,eAAe,CAACG,UAAW;gBACjC4D,KAAK,EAAEH,MAAO;gBACdI,OAAO,EAAEtF,WAAW,CAACsB,eAAe,CAACG,UAAU,CAAC,KAAKyD,MAAO;gBAC5DK,QAAQ,EAAGC,CAAC,IAAKhE,kBAAkB,CAACF,eAAe,CAACG,UAAU,EAAE+D,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAE;gBAChF7B,SAAS,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjB,CAAC,eACF5E,OAAA;gBAAAwE,QAAA,EAAOyB;cAAM;gBAAAxB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA,GATXsB,KAAK;cAAAzB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAUV,CACR;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,gBAEN5E,OAAA;YACEyF,IAAI,EAAC,MAAM;YACXgB,WAAW,EAAC,qBAAqB;YACjCL,KAAK,EAAErF,WAAW,CAACsB,eAAe,CAACG,UAAU,CAAC,IAAI,EAAG;YACrD8D,QAAQ,EAAGC,CAAC,IAAKhE,kBAAkB,CAACF,eAAe,CAACG,UAAU,EAAE+D,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAE;YAChF7B,SAAS,EAAC;UAAyK;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpL,CACF,eAED5E,OAAA;YACE6E,OAAO,EAAEA,CAAA,KAAMzD,aAAa,CAAC,IAAI,CAAE;YACnCmD,SAAS,EAAC,0GAA0G;YAAAC,QAAA,EACrH;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,gBAEN5E,OAAA;UAAKuE,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnBxE,OAAA;YAAKuE,SAAS,EAAC,kDAAkD;YAAAC,QAAA,gBAC/DxE,OAAA;cAAIuE,SAAS,EAAC,oBAAoB;cAAAC,QAAA,EAAC;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACvD5E,OAAA;cAAGuE,SAAS,EAAC,SAAS;cAAAC,QAAA,EAAEnC,eAAe,CAACI;YAAM;cAAAgC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChD,CAAC,eAGN5E,OAAA;YAAKuE,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBxE,OAAA;cAAIuE,SAAS,EAAC,oBAAoB;cAAAC,QAAA,EAAC;YAAgC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACxE5E,OAAA;cAAKuE,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAC5B,CACC;gBAAE4B,KAAK,EAAE,MAAM;gBAAEM,KAAK,EAAE,MAAM;gBAAErB,KAAK,EAAE;cAAkC,CAAC,EAC1E;gBAAEe,KAAK,EAAE,QAAQ;gBAAEM,KAAK,EAAE,QAAQ;gBAAErB,KAAK,EAAE;cAAoC,CAAC,EAChF;gBAAEe,KAAK,EAAE,MAAM;gBAAEM,KAAK,EAAE,MAAM;gBAAErB,KAAK,EAAE;cAA8B,CAAC,CACvE,CAACW,GAAG,CAAEpD,MAAM,iBACX5C,OAAA;gBAEE6E,OAAO,EAAEA,CAAA,KAAMlC,YAAY,CAACN,eAAe,CAACG,UAAU,EAAEI,MAAM,CAACwD,KAAK,CAAE;gBACtE7B,SAAS,EAAE,4DACTtD,OAAO,CAACoB,eAAe,CAACG,UAAU,CAAC,KAAKI,MAAM,CAACwD,KAAK,GAChDxD,MAAM,CAACyC,KAAK,GACZ,+BAA+B,EAClC;gBAAAb,QAAA,EAEF5B,MAAM,CAAC8D;cAAK,GARR9D,MAAM,CAACwD,KAAK;gBAAA3B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OASX,CACT;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAEN5E,OAAA;YACE6E,OAAO,EAAEhC,kBAAmB;YAC5B0B,SAAS,EAAC,qGAAqG;YAAAC,QAAA,EAE9G3D,oBAAoB,GAAGuB,WAAW,CAACE,SAAS,CAACQ,MAAM,GAAG,CAAC,GACpD,eAAe,GACfnC,gBAAgB,GAAGN,UAAU,CAACyC,MAAM,GAAG,CAAC,GACtC,WAAW,GACX;UAAe;YAAA2B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEf,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACzE,EAAA,CAhTID,UAAU;EAAA,QAUGJ,WAAW;AAAA;AAAA6G,EAAA,GAVxBzG,UAAU;AAkThB,eAAeA,UAAU;AAAC,IAAAyG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}